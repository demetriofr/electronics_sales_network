# **Сервис для самообучения.**                                                       
_(project name: electronics_sales_network)_                                                                                                 
                                                                                                                                    
**Цель проекта:** Разработать онлайн платформу-торговой сети электроники

**Этап данного проекта:** _MVP_



### Направление 
Backend.



### Тэги
![Python 3.12](https://img.shields.io/badge/PL-python?style=flat-square&logo=python&label=Python%203.12&labelColor=yellow&color=black) 
![Django 5.0](https://img.shields.io/badge/Py3k-django?style=flat-square&logo=django&label=Django%205.0&labelColor=green&color=yellow) 
![Django REST framework 3.15](https://img.shields.io/badge/Dj-DRF?style=flat-square&logo=djangorestframework&label=Django%20REST%20framework%203.15&labelColor=red&color=green) 
![PostgreSQL16.1](https://img.shields.io/badge/DB-pgsql?style=flat-square&logo=postgresql&label=PostgreSQL%2016.1&labelColor=white&color=black) 
![PEP8](https://img.shields.io/badge/Py3k-PEP8?style=flat-square&logo=PEP&label=PEP8%20code%20style&labelColor=green&color=yellow) 
![psycopg2](https://img.shields.io/badge/ORM-psycopg2?style=flat-square&logo=psycopg2&label=psycopg2&labelColor=green&color=black) 
![Git](https://img.shields.io/badge/VCS-Git?style=flat-square&logo=git&label=Git&labelColor=white&color=black) 
![GitHub](https://img.shields.io/badge/Git-GitHub?style=flat-square&logo=github&label=GitHub&labelColor=green&color=white) 
![Serializers](https://img.shields.io/badge/DRF-Serializers?style=flat-square&logo=serializers&label=Serializers&labelColor=orange&color=red) 
![Viewset/Generic](https://img.shields.io/badge/DRF-Viewset/Generic?style=flat-square&logo=viewset/Generic&label=Viewset/Generic&labelColor=orange&color=red) 
![Filter](https://img.shields.io/badge/DRF-Filter?style=flat-square&logo=filter&label=Filter&labelColor=orange&color=red) 
![Tests](https://img.shields.io/badge/DRF-Tests?style=flat-square&logo=tests&label=Tests&labelColor=orange&color=red)
![CORS](https://img.shields.io/badge/-CORS?style=flat-square&logo=CORS&label=CORS&labelColor=green&color=black) 
![README.md](https://img.shields.io/badge/-READMEmd?style=flat-square&logo=readme.md&label=README.md&labelColor=green&color=black) 
![Swagger](https://img.shields.io/badge/-Swagger?style=flat-square&logo=swagger&label=Swagger&labelColor=white&color=black) 
![Postman](https://img.shields.io/badge/-Postman?style=flat-square&logo=postman&label=Postman&labelColor=green&color=black) 
![Docker](https://img.shields.io/badge/-Docker?style=flat-square&logo=docker&label=Docker&labelColor=green&color=black) 



### Особенности
- Сервис реализован на фреймворки Django 5.0.
- Проект использует djangorestframework. 
- Для наследования в сущности пользователь, используется модель `AbstractUser`.
- Настроен CORS.
- Используется Swagger.
- Проект "завёрнут" в Docker.



### Алгоритм запуска сервиса

_Если не использовать Docker_
1. Клонируйте содержимое данного репозитория к себе: `git clone git@github.com:demetriofr/electronics_sales_network.git`

2. .env добавите данные из env.sample.

3. Установите зависимости в venv: `pip3 install -r requirements.txt`.

4. Создайте базу данных, например, через консоль:                                                                                   
   ```                                                                                                                                 
   psql -U postgres                                                                                                                    
   create database electronics_sales_network;
   \q                                                                                               
   ```                                                                                                                                 

5. Сделайте миграции: `python3 manage.py migrate`.

6. Запустите проект: `python3 manage.py runserver`.
                                                                                            
7. Создайте суперюзера использую команду: `python3 manage.py csu`.


_Если использовать Docker_
1. Клонируйте содержимое данного репозитория к себе: `git clone git@github.com:demetriofr/electronics_sales_network.git`

2. .env добавите данные из env.sample.

3. Поднять и собрать проект командой: `docker-compose up -d --build`.

4. Для создания superuser: `docker-compose exec python manage.py csu`.

5. Для остановки проекта, удаления всех контейнеров, сетей и томов: `docker-compose down -v`.



### Реализованные возможности

**Первый этап (_MVP_)**

#### Краткое описание

- Приложение "Звено сети":
  - Модель "Звено сети".
  - Модель "Контакты". 
  - Модель "Звено сети - продукт"


- Приложение "Продукты":
  - Модель "Продукт".


**На всех этапах:**
- Управление всеми сущностями осуществляется через стандартный Django admin.
- Эндпоинты для работы с фронтендом.


### Логика работы сервиса
- Внесите данные о производители оборудования (завод).  
- Внесите данные об оборудовании (продукт). 
- Внесите данные о поставщиках оборудования (розничной сети, ИП). 
- Добавьте продукты звеньям сети.


#### Некоторые важные понятия
**Звено сети** (так называемый "элемент" и "уровень") — производитель (завод) или поставщик (розничная сеть, ИП) 
оборудования.

**Завод** (так называемое "звено сети" и уровень 0) — производитель оборудования (продуктов).

**Розничная сеть** (так называемое "звено сети" и уровень не равный 0) — крупный поставщик оборудования (продуктов), 
который в отношение к остальным элементам сети может быть в иерархии звеном на уровне 1, 2.

**Индивидуальный предприниматель** (так называемый "ИП", "звено сети" и уровень не равный 0) — поставщик оборудования 
(продуктов), который в отношение к остальным элементам сети может быть в иерархии звеном на уровне 1, 2.




### Функционал

#### Приложение "Звенья сети" ("NetworkLinks"):

##### Модуль "Звено сети" ("NetworkLink"):
- **название** (**name**) — название производителя или поставщика. 
- **контакты** (**contact_info**) - ссылка на контактную информацию.
- **родитель** (**parent**) — ссылка на предшествующее звено. 
- **общий дебет** (**total_debt**) — вся задолженность (заполняется автоматически на основе задолженностей по каждому продукту). 
- **создан в** (**created_at**) — время создания производителя или поставщика (заполняется автоматически при создании).

##### Модуль "Контакты" ("ContactInfo"):
- **email** (**email**) — адрес электронной почты. 
- **страна** (**country**) — страна, в которой находится звено сети. 
- **город** (**city**) — город, в котором находится звено сети. 
- **улица** (**street**) — улица, на которой находится звено сети. 
- **номер дома** (**house_number**) — номер дома звена сети. 

##### Модуль "Звено сети - продукт" ("NetworkLinkProduct"):
- **звено сети** (**network_link**) — ссылка на звено сети (производителя или поставщика). 
- **продукт** (**product**) — ссылка на продукт, произведённый производителем или продаваемый поставщиком. 
- **дебет** (**debt**) — задолженность по данному продукту. 
- **добавлен** (**added_at**) — дата добавления.  


##### Валидаторы
- В иерархии не должно быть больше 3 уровней вложенности.
- Если у звена есть родитель (ссылка на предшествующее звено), то в дебете должна отражаться сумма с двумя 
знаками после запятой, в том числе если после запятой нули, или если задолженности нет, то должен стоять ноль.

##### Эндпоинты
- Создание звена цепи.
- Чтение звена цепи.
- Чтение списка звенев цепи.
- Редактирование звена цепи.
- Удаление звена цепи.


#### Приложение "Продукты" ("Products"):

##### Модуль "Продукт" ("Product"):
- **название** (**name**) — название оборудования (продукта). 
- **модель** (**model**) — модель оборудования (продукта). 
- **дата выхода** (**release_date**) — дата выхода продукта на рынок.  


##### Валидаторы
- Название оборудования не должно содержать слова со знаками: "%,*+="

##### Эндпоинты
- Создание продукта.
- Чтение продукта.
- Чтение списка продуктов.
- Редактирование продукта.
- Удаление продукта.


#### Приложение "Пользователи:

##### Модуль "Пользователь":
- **email** (**email**) — пароль. 
- **пароль** (**password**) — пароль. 
- **активный** (**is_active**) - активный сотрудник. 



#### Пагинация
Для вывода всех списков реализована пагинация с выводом по 5 привычек на страницу.



### Безопасность
Для проекта настроен CORS, чтобы фронтенд мог подключаться к проекту на развернутом сервере.



### Документация
Для реализации экранов силами фронтенд-разработчиков настроен вывод документации.



### Данный проект является аттестацией в курсе "Python-разработчик"                                              
_Данный проект состоит из одной части._                                                                                     

### Описание задания
- [ ] Создать веб-приложение с 
  - [ ] API-интерфейсом,  
  - [ ] админ-панелью.
- [ ] Создать базу данных и использовать миграции.
                                                                                                                                     
### Критерии успешного выполнения данного тестового задания:
- [ ] Реализована модель сети по продаже электроники:
  - [ ] Cеть представляет собой иерархическую структуру из трех уровней (завод, розничная сеть, ИП):
  - [ ] Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии),
  - [ ] Уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т. е. завод всегда 
находится на уровне 0, а если розничная сеть относится напрямую к заводу, минуя остальные звенья, её уровень - 1.
- [ ] Каждое звено сети обладает следующими элементами: 
  - [ ] название, 
  - [ ] контакты (email, страна, город, улица, номер дома), 
  - [ ] продукты (название, модель, дата выхода продукта на рынок), 
  - [ ] поставщик (предыдущий по иерархии объект сети), 
  - [ ] задолженность перед поставщиком в денежном выражении с точностью до копеек, 
  - [ ] время создании (заполняется автоматически при создании).
- [ ] Сделан вывод в админ-панели созданных объектов.
  - [ ] На страницы объекта сети добавлено: 
    - [ ] ссылка на "Поставщика",
    - [ ] фильтр по названию города, 
    - [ ] в admin actions, который очищает задолженность перед поставщиком у выбранных объектов.
- [ ] Используется DRF для создания набора представлений CRUD для модели поставщика:
  - [ ] Запрещено обновлять через API поле "Задолженность перед поставщиком".
  - [ ] Добавлена возможность фильтрации объектов по определенной стране.
- [ ] Настроены права доступа к API так, чтобы только активные сотрудники имели доступ к API


**Дополнительные критерии помимо тестовое задание:**                                                                                                               
- [ ] Настроена CORS.
- [ ] Настроен Swagger UI.
- [ ] Реализована пагинация.
- [ ] Использовано переменные окружения.
- [ ] Все необходимые модели описаны или переопределены.
- [ ] Все необходимые эндпоинты реализованы.
- [ ] Настроены все необходимые валидаторы.
- [ ] Описаны права доступа.
- [ ] Проект покрыт тестами как минимум на 80%.
- [ ] Код оформлен в соответствии с лучшими практиками.
- [ ] Имеется список зависимостей.
- [ ] Результат проверки Flake8 равен 80%, при исключении миграций.
- [ ] Решение выложили на GitHub. 


### Справочно:
```text
Product lifecycle:

MVP (Minimum Viable Product - Минимально Жизнеспособный Продукт) - это отправная точка, так называемая базовая версию 
проекта, которая решать основную проблему пользователей.

MMP (Minimum Marketable Product - Минимально Маркетинговый Продукт) - это расширяет MVP до уровня, на котором проект 
становится привлекательным для использования.

MLP (Minimum Lovable Product - Минимально Любимый Продукт) - это версия проекта, которая не только решает проблемы 
пользователей, но и делает это таким образом, что пользователи влюбляются в проект.
```
